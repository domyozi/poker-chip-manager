# Poker Chip Manager 要件

## 目的
- リアルカード用のテキサスホールデムのチップ管理アプリ
- ゲーム進行を妨げないこと（ブロックしない）
- モバイルで確実に動作すること

## 全体ルール
- 重要な挙動変更やバグ修正の前に調査を行う
- バグ修正は推測せず、根本原因を特定する
- P0 は見た目より優先

## 優先度
P0:
- ショーダウンでアプリがフリーズしないこと
- ルームコード入力がモバイルで動作すること

P1:
- 画面上にアプリのバージョンが表示されること

P2（保留）:
- カード表示の見た目改善

## 必須UXルール
- ゲームは常に継続できる導線があること
- ホスト限定の操作は明示すること
- 非ホスト側がフリーズしたように見えないこと

## ベッティング仕様
- MIN RAISE未満のスタックでもALL INを許可する（短いオールインはレイズ額として再オープンしない）

## ショーダウン仕様
- 複数サイドポット発生時は「メイン→サイド1→サイド2…」のタブで勝者を選択できること
- 勝者候補はチップ量の降順で表示すること
- メインポットで最上位の候補が単独勝者に選ばれた場合、該当プレイヤーが参加可能なサイドポットは自動選択すること

## トーナメント仕様
- トーナメントモードはオンラインのみで利用できること（ローカル/オフラインでは非表示）

## メニュー機能
- チップ調整は降順表示で編集・保存でき、履歴に記録すること
- プレイヤー追加/退席をメニューから行えること（履歴に記録する）
- ハンド進行中はチップ調整/追加/退席を禁止する

## デバッグ方針
- 根本原因が不明な場合は実行時インストルメンテーションを追加する
- デバッグUIはフラグ（?debug=1）で有効化する

## 技術的制約
- フロントは静的構成（HTML/CSS/JS）で完結
- 新しいフレームワークは追加しない
- Supabase の設定は変更しない

## 追加ルール
- 要件の追加・変更が発生した時は `REQUIREMENTS.md` に追記すること
- UIフローや画面構成の変更時は `docs/STATE_FLOW.md` と `docs/WIREFRAME_GAME_SCREEN.md` を更新すること

## 納品ルール
- 作業完了時は必ず git へコミットし、push すること
